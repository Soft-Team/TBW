extends ../../../templates/dash.pug

block main
  block append scripts
    script(type='text/javascript', src='/assets/scripts/bootstrap-filestyle.min.js')
    script.
      $(":file").filestyle();
  .jumbotron-banner(style='height:100px')
    center
  .sector(style='margin-top:0px; padding:0px')
  each thisuser in thisUserTab
    each paramsuser,index in paramsUser
      if index == 0
        .sector-container-profile
          .profile-container
              #left-pane.col-sm-3
                img(src='/userImages/profile/'+paramsuser.strProfilePic, alt='Card image cap', style='height: 10rem; width: 10rem; border-right: 1px solid; ')
              #center-pane.col-sm-3
                if paramsuser.intStatus == 1
                  h2.text-headline-profile(style='border-bottom: 1px solid #000000; color:grey;') Unverified 
                else
                  h2.text-headline-profile(style='border-bottom: 1px solid#000000; color:green;') Verified 
                h1(style='margin-left:15px') #{paramsuser.strName}
                  if paramsuser.current != 1
                    button#report.btn.btn-danger.btn-md.btn(type='button' data-toggle='modal' data-target='#reportModal' style='padding-top:8px')
                      i.fa.fa-exclamation.fa-2x(style='height:35px; width:35px;')
                  else
                    button#report.btn.btn-light.btn-md.btn.ml-2(type='button' data-toggle='modal' data-target='#editModal')
                      //- i.fa.fa-cogs.fa-2x
                      img(src='/assets/images/icons/settings.png' style='height:35px; width:35px;')
              #right-pane.col-sm-3
                  table(style='width:190px;   border-radius: 0px 5px 5px 0px; ')
                    tbody
                      tr
                        td(style='padding-top:3px;')
                          img(src='/assets/images/Icons/star.png', alt='star', style='height: 2rem; width: 2rem; margin-top:5px; margin-left:50px;')
                          h2(style='float: right; margin-right: 50px; margin-bottom: 0rem') #{paramsuser.ave}
                          h4.profileA(style='margin-bottom: 0rem; margin-top:0px; display:inline-block') Rating
                      tr
                        td(style='padding-top:3px')
                          img(src='/assets/images/Icons/case.png', alt='star', style='height: 2rem; width: 2rem; margin-top:5px; margin-left:50px ')
                          h2(style='float: right; margin-right: 50px; margin-bottom: 0rem') #{paramsuser.sum}
                          h4.profileB(style='margin-bottom: 0rem; margin-top:0px; display:inline-block') Finished
    nav
      .card.text-center(style='width:1286px')
        .card-header(style='padding-bottom:0rem')
          each paramsuser, index in paramsUser
            if index == 0
              #nav-tab.nav.nav-tabs(role='tablist', style='border:0px')
                a#personal-info-tab.nav-item.nav-link.active.selected.text-b(data-toggle='tab', href='#Personal-Info', role='tab', aria-controls='Personal-Info', aria-selected='false' selected='') Personal Info
                a#services-tab.nav-item.nav-link.text-b(data-toggle='tab', href='#Services', role='tab', aria-controls='Services', aria-selected='false') Services
                a#reviews-tab.nav-item.nav-link.text-b(data-toggle='tab', href='#Reviews', role='tab', aria-controls='Reviews', aria-selected='false') Reviews
                a#portfolio-tab.nav-item.nav-link.text-b(data-toggle='tab', href='#Portfolio', role='tab', aria-controls='Portfolio', aria-selected='false') Portfolio
        #nav-tabContent.tab-content
          #Personal-Info.tab-pane.fade.show.active(role='tabpanel', aria-labelledby='personal-info-tab')
            .col-sm-3
              each paramsuser, index in paramsUser
                if index == 0
                  i.fa.fa-building.fa-2x
                  span.font2 City: #{paramsuser.strCity}
                  hr
                  i.fa.fa-address-book.fa-2x
                  span.font2 Contact: #{paramsuser.strContactNo}
                  hr
            .col-sm-3
              each paramsuser, index in paramsUser
                if index == 0
                  i.fa.fa-home.fa-2x
                  span.font2 Barangay: #{paramsuser.strBarangay}
                  hr
                  i.fa.fa-envelope.fa-2x
                  span.font2 Email: #{paramsuser.strEmail}
                  hr
          #Services.tab-pane.fade(role='tabpanel', aria-labelledby='services-tab')
            center
              .container(style='padding-top: 20px; padding-bottom: 20px')
                p.font
                  table.table.table-striped.font1.box-shadow-mini
                    thead
                      tr.text-white
                        th(scope='col') Service
                        th(scope='col') Price
                        th(scope='col') Status
                    tbody
                      each serv in paramsUser
                        tr
                            td #{serv.strServName}
                            if serv.intPriceType == '1'
                              td Php #{serv.formatPrice}
                            else 
                              td Php #{serv.formatPrice} / hr
                            if serv.intServStatus == '1'
                              td Available
                            else if serv.intServStatus == '0'
                              td Unavailable
                            else if serv.intServStatus == '2'
                              td Unavailable(Ongoing)  
                              td &nbsp
          #Reviews.tab-pane.fade(role='tabpanel', aria-labelledby='reviews-tab', style='height: 300px')
            .sector-container-footer
              .footer-container
                .col-sm-3
                  .pull-left.image
                    .chat-img(style='height:80px; width:80px')
                      img.img-circle(src='/assets/images/Unknown.jpg' alt='User Image' height="85" width="85")
                .col-sm-3
                  h2 Takeoff
                  h3 Help sample text eksdee
                .col-sm-3
                  img(src='/assets/images/Icons/star.png', alt='star', style='height: 4rem; width: 4rem; margin-top:5px; float:left')
                  h1(style='float:right; margin-top: 20px') 4.5
              .footer-container
                .col-sm-3
                  .pull-left.image
                    .chat-img(style='height:80px; width:80px')
                      img.img-circle(src='/assets/images/Unknown.jpg' alt='User Image' height="85" width="85")
                .col-sm-3
                  h2 Takeoff
                  h3 Help sample text eksdee
                  br
                .col-sm-3
                  img(src='/assets/images/Icons/star.png', alt='star', style='height: 4rem; width: 4rem; margin-top:5px; float:left')
                  h1(style='float:right; margin-top: 20px') 4.5
          #Portfolio.tab-pane.fade(role='tabpanel', aria-labelledby='portfolio-tab', style='')
            .col
              .row
                .img-with-text
                  .clo X
                  a(onClick="window.open('/assets/images/Sample.jpg');" href='#' alt='sample')
                    img.port(src='/assets/images/Sample.jpg')
                  
                  center
                     p Sample Portfolio
                .img-with-text
                  .clo X
                  a(onClick="window.open('/assets/images/Sample1.jpg');" href='#' alt='sample')
                    img.port(src='/assets/images/Sample1.jpg')
                  
                  center
                    p Sample Portfolio

  #reportModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='reportModalTitle' aria-hidden='true')
    .modal-dialog(role='document')
      .modal-content
        form(method='POST' action='/myservices' style='float:right; margin-right: 30px; margin-top: 5px !important;')
          .modal-header
            h5#reportModalTitle.modal-title Report User
            button.close(type='button' data-dismiss='modal' aria-label='Close')
              span(aria-hidden='true') ×
          .modal-body
            .row
              .col
                .custom-control.custom-radio
                  input#customRadio1.custom-control-input(type='radio', name='customRadio')
                  label.custom-control-label(for='customRadio1') Communication Abuse 
                .custom-control.custom-radio
                  input#customRadio2.custom-control-input(type='radio', name='customRadio')
                  label.custom-control-label(for='customRadio2') Scammer/Hacker
                .custom-control.custom-radio
                  input#customRadio3.custom-control-input(type='radio', name='customRadio')
                  label.custom-control-label(for='customRadio3') Spammer
                .custom-control.custom-radio
                  input#customRadio4.custom-control-input(type='radio', name='customRadio')
                  label.custom-control-label(for='customRadio4') Others
              .col
                .form-group
                  label(for='exampleFormControlTextarea1') Others Specify Here..
                  textarea#exampleFormControlTextarea1.form-control(rows='3')

          .modal-footer
              button.btn.btn-primary(type='submit') Submit
              button.btn.btn-secondary(type='button', data-dismiss='modal') Close

  #editModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='editModalTitle' aria-hidden='true')
    .modal-dialog(role='document')
      .modal-content
        each thisuser in thisUserTab
          .modal-header
            h5#editModalTitle.modal-title Profile Settings
            button.close(type='button' data-dismiss='modal' aria-label='Close')
              span(aria-hidden='true') ×
              
          .modal-body
            .row
              .col
                ul#pills-tab.nav.nav-pills.mb-3(role='tablist')
                  li.nav-item
                    a#pills-personal-tab.nav-link.active(data-toggle='pill', href='#pills-personal', role='tab', aria-controls='pills-personal', aria-selected='true') Personal Information
                  li.nav-item
                    a#pills-password-tab.nav-link(data-toggle='pill', href='#pills-password', role='tab', aria-controls='pills-password', aria-selected='false') Password
                  li.nav-item
                    a#pills-validid-tab.nav-link(data-toggle='pill', href='#pills-validid', role='tab', aria-controls='pills-validid', aria-selected='false') Valid ID
                hr
                #pills-tabContent.tab-content
                  #pills-personal.tab-pane.fade.show.active(role='tabpanel', aria-labelledby='pills-personal-tab')
                    form(method='POST' action='/profile/personal/'+thisuser.intAccNo enctype='multipart/form-data')
                      .row
                        .col-4
                          p.mt-1.ml-3
                            b Profile Picture
                        .col-8
                          .form-group.mr-3
                            input#dp.filestyle(type='file' name='profilepic' data-classbutton='btn btn-primary' data-input='false' data-classicon='icon-plus' accept='image/*')
                      .row
                        .col
                          .form-group
                            label(for='email')
                              b Email
                            input#email.form-control(type='email' name='email' value= thisuser.strEmail aria-describedby='emailHelp' placeholder='eg. johndoe@email.com' maxlength='320' required)
                            small#emailHelp.form-text.text-muted Email will be displayed publicly.
                        .col
                          .form-group
                            label(for='contact')
                              b Contact Number
                            .form-text
                              input#contact.form-control(type='number' name='contact' value= thisuser.formatcontact aria-describedby='contactHelp' placeholder='09236835707' max='99999999999' required)
                              label.static-value(for='cellno') (+63)
                            small#contactHelp.form-text.text-muted Contact Number will be displayed publicly.

                      .row
                        .col
                          .form-group
                            label(for='inputCity')
                              b City
                            input#inputCity.form-control(type='text' name='city' value= thisuser.strCity placeholder='Quezon City' required='')
                        .col
                          .form-group
                            label(for='inputState')
                              b Barangay
                            input#inputBarangay.form-control(type='text' name='barangay' value= thisuser.strBarangay placeholder='Tatalon' required='')                
                      hr
                      .row
                        .col
                          .btn-group.special(role='group')
                            button.editbuttons.btn.btn-primary.btn-md(type='submit') Submit
                            a.editbuttons.btn.btn-secondary.btn-md(type='button' data-dismiss='modal' aria-pressed='true') Cancel
                  
                  #pills-password.tab-pane.fade(role='tabpanel', aria-labelledby='pills-password-tab')
                    form(method='POST' action='/profile/pass/'+thisuser.intAccNo)
                      .row
                        .col-4
                          label.mt-2.ml-2(for='oldpassword') Old Password
                        .col-8
                          .form-group
                            input#oldpassword.form-control(type='password' name='oldpass' placeholder='Old Password' minlength='8' maxlength='100' required)
                      .row
                        .col-4
                          label.mt-2.ml-2(for='newpass') New Password
                          label.mt-2.ml-2(for='confirmpass') Confirm
                        .col-8
                          .form-group
                            input#newpass.form-control.mb-1(type='password' name='newpass' placeholder='New Password' minlength='8' maxlength='100' required)
                            input#confirmpass.form-control(type='password' name='confirmpass' placeholder='Confirm Password' aria-describedby='passwordHelp' minlength='8' maxlength='100' required)
                            small#passwordHelp.form-text.text-muted Minimum of 8 characters.
                    
                      hr
                      .row
                        .col
                          .btn-group.special(role='group')
                            button.editbuttons.btn.btn-primary.btn-md(type='submit') Submit
                            a.editbuttons.btn.btn-secondary.btn-md(type='button' data-dismiss='modal' aria-pressed='true') Cancel
                  
                  #pills-validid.tab-pane.fade(role='tabpanel', aria-labelledby='pills-validid-tab')
                    each paramsuser,index in paramsUser
                      if index == 0
                        if paramsuser.strValidID != 'none'
                          p You have already submitted a valid ID.
                          hr
                          hr
                          .row
                            .col.align-right
                              button.btn.btn-secondary(type='button', data-dismiss='modal') Close
                        else
                          form(method='POST' action='/profile/validid/'+thisuser.intAccNo enctype='multipart/form-data')
                            .row
                              .col-4
                                p.mt-1.ml-3
                                  b Valid ID
                              .col-8
                                .form-group.mr-3
                                  input#vid.filestyle(type='file' name='validid' data-classbutton='btn btn-primary' data-input='false' data-classicon='icon-plus' accept='image/*' required)
                            
                            hr
                            hr
                            .row
                              .col
                                .btn-group.special(role='group')
                                  button.editbuttons.btn.btn-primary.btn-md(type='submit') Submit
                                  a.editbuttons.btn.btn-secondary.btn-md(type='button' data-dismiss='modal' aria-pressed='true') Cancel

  block profile
