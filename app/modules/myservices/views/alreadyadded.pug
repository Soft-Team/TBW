extends ../../../templates/dash.pug

block main
  center
    .jumbotron-banner
      h1.text-white My Services
      form(method='POST' action='/myservices')
        .form-group
          button.btn.btn-primary.btn-md.btn(type='button' data-toggle='modal' data-target='#searchServModal') + Add Service
          #searchServModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='searchServModalTitle' aria-hidden='true')
            .modal-dialog(role='document')
              .modal-content
                .modal-header
                  h5#searchServModalTitle.modal-title Add Service
                  button.close(type='button' data-dismiss='modal' aria-label='Close')
                    span(aria-hidden='true') ×
                .modal-body
                  input.form-control(type='text' name='searchtag' placeholder='Service Tag' required)
                  br
                  .row
                    .col
                      label(for='priceType') Price Type
                      select#priceType.form-control(name='pricetype')
                        option(value='1') Fixed
                        option(value='2') Rate per Hour
                    .col
                      label(for='price') Price
                      #price.input-group.mb-3
                        .input-group-prepend
                          span.input-group-text Php
                        input.form-control(type='text' name='price' placeholder='00.00' required)
                .modal-footer
                  button.btn.btn-primary(type='submit') Submit
                  button.btn.btn-secondary(type='button', data-dismiss='modal') Close
  
  center
    .alert.alert-danger(role='alert')
      i #{servTag} has already been added                  
  
  p  
  center
    .container
      p.font
        table.table.table-striped.font1
          thead
            tr.text-white
              th(scope='col') Service
              th(scope='col') Price
              th(scope='col') Status
              th(scope='col') &nbsp
          each serv in myServices
            tbody
              tr
                td #{serv.strServName}
                if serv.intPriceType == '1'
                  td Php #{serv.fltPrice}
                else
                  td Php #{serv.fltPrice} / hr
                if serv.intServStatus == '1'
                  td Available
                else 
                  td Unavailable
                td 
                  form(method='POST' action='/myservices')
                    .form-group
                      a(data-toggle='tooltip', data-placement='bottom', title='Edit')
                        if serv.intServStatus == 1 
                          if serv.intPriceType == 1
                            img.size(src='/assets/images/icons/settings.png', alt='Edit' data-toggle='modal' data-target='#editServModal1')
                          else
                            img.size(src='/assets/images/icons/settings.png', alt='Edit' data-toggle='modal' data-target='#editServModal2')
                        else
                          if serv.intPriceType == 1
                            img.size(src='/assets/images/icons/settings.png', alt='Edit' data-toggle='modal' data-target='#editServModal3')
                          else
                            img.size(src='/assets/images/icons/settings.png', alt='Edit' data-toggle='modal' data-target='#editServModal4')
                        #editServModal1.modal.fade(tabindex='-1' role='dialog' aria-labelledby='editServModalTitle1' aria-hidden='true')
                          .modal-dialog(role='document')
                            .modal-content
                              .modal-header
                                h5#editServModalTitle1.modal-title Add Service
                                button.close(type='button' data-dismiss='modal' aria-label='Close')
                                  span(aria-hidden='true') ×
                              .modal-body
                                label(for='editStatus') Status
                                select#editStatus.form-control(name='status')
                                  option(value='1' selected='') Available
                                  option(value='2') Unavailable
                                br
                                .row
                                  .col
                                    label(for='priceType') Price Type
                                    select#editPriceType.form-control(name='pricetype')
                                      option(value='1' selected='') Fixed
                                      option(value='2') Rate per Hour
                                  .col
                                    label(for='price') Price
                                    #editPrice.input-group.mb-3
                                      .input-group-prepend
                                        span.input-group-text Php
                                      input.form-control(type='text' name='price' placeholder='00.00' required)
                              .modal-footer
                                button.btn.btn-primary(type='submit') Submit
                                button.btn.btn-secondary(type='button', data-dismiss='modal') Close
                        #editServModal2.modal.fade(tabindex='-1' role='dialog' aria-labelledby='editServModalTitle2' aria-hidden='true')
                          .modal-dialog(role='document')
                            .modal-content
                              .modal-header
                                h5#editServModalTitle2.modal-title Add Service
                                button.close(type='button' data-dismiss='modal' aria-label='Close')
                                  span(aria-hidden='true') ×
                              .modal-body
                                label(for='editStatus') Status
                                select#editStatus.form-control(name='status')
                                  option(value='1' selected='') Available
                                  option(value='2') Unavailable
                                br
                                .row
                                  .col
                                    label(for='priceType') Price Type
                                    select#editPriceType.form-control(name='pricetype')
                                      option(value='1') Fixed
                                      option(value='2' selected='') Rate per Hour
                                  .col
                                    label(for='price') Price
                                    #editPrice.input-group.mb-3
                                      .input-group-prepend
                                        span.input-group-text Php
                                      input.form-control(type='text' name='price' placeholder='00.00' required)
                              .modal-footer
                                button.btn.btn-primary(type='submit') Submit
                                button.btn.btn-secondary(type='button', data-dismiss='modal') Close
                        #editServModal3.modal.fade(tabindex='-1' role='dialog' aria-labelledby='editServModalTitle3' aria-hidden='true')
                          .modal-dialog(role='document')
                            .modal-content
                              .modal-header
                                h5#editServModalTitle3.modal-title Add Service
                                button.close(type='button' data-dismiss='modal' aria-label='Close')
                                  span(aria-hidden='true') ×
                              .modal-body
                                label(for='editStatus') Status
                                select#editStatus.form-control(name='status')
                                  option(value='1') Available
                                  option(value='2' selected='') Unavailable
                                br
                                .row
                                  .col
                                    label(for='priceType') Price Type
                                    select#editPriceType.form-control(name='pricetype')
                                      option(value='1' selected='') Fixed
                                      option(value='2') Rate per Hour
                                  .col
                                    label(for='price') Price
                                    #editPrice.input-group.mb-3
                                      .input-group-prepend
                                        span.input-group-text Php
                                      input.form-control(type='text' name='price' placeholder='00.00' required)
                              .modal-footer
                                button.btn.btn-primary(type='submit') Submit
                                button.btn.btn-secondary(type='button', data-dismiss='modal') Close
                        #editServModal4.modal.fade(tabindex='-1' role='dialog' aria-labelledby='editServModalTitle4' aria-hidden='true')
                          .modal-dialog(role='document')
                            .modal-content
                              .modal-header
                                h5#editServModalTitle4.modal-title Add Service
                                button.close(type='button' data-dismiss='modal' aria-label='Close')
                                  span(aria-hidden='true') ×
                              .modal-body
                                label(for='editStatus') Status
                                select#editStatus.form-control(name='status')
                                  option(value='1') Available
                                  option(value='2' selected='') Unavailable
                                br
                                .row
                                  .col
                                    label(for='priceType') Price Type
                                    select#editPriceType.form-control(name='pricetype')
                                      option(value='1') Fixed
                                      option(value='2' selected='') Rate per Hour
                                  .col
                                    label(for='price') Price
                                    #editPrice.input-group.mb-3
                                      .input-group-prepend
                                        span.input-group-text Php
                                      input.form-control(type='text' name='price' placeholder='00.00' required)
                              .modal-footer
                                button.btn.btn-primary(type='submit') Submit
                                button.btn.btn-secondary(type='button', data-dismiss='modal') Close

              
  
